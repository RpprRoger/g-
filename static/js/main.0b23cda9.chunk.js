(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(e){e.exports={type:"FeatureCollection",features:[{type:"Feature",properties:{name:"Route12",type:"Route"},geometry:{type:"LineString",coordinates:[[1.439312159,52.8287579886],[1.4373517958,52.8269710332],[1.4339508806,52.8257429675],[1.4318323981,52.8247699944],[1.429195515,52.8238119883],[1.4296731919,52.8228088029],[1.4296587922,52.8216849439],[1.4322511398,52.8216098897],[1.4343671873,52.8211438423],[1.4361408402,52.8201030577],[1.4365812838,52.8191009165],[1.4348496723,52.8192635518],[1.4300250824,52.8197405871],[1.4263027835,52.8214897124],[1.4207725519,52.823853043],[1.41630343,52.8269724959],[1.4208221713,52.828258737],[1.4226583782,52.8294199374],[1.4251997274,52.8272778688],[1.4275015103,52.8277509784],[1.4304170801,52.8280039127],[1.4321226413,52.827977023],[1.4345762401,52.8284905745],[1.4388324205,52.8287943938]]}}]}},151:function(e,t,a){e.exports=a.p+"static/media/search.fd55e732.svg"},152:function(e,t,a){e.exports=a.p+"static/media/logo3.10b62017.svg"},153:function(e,t,a){e.exports=a.p+"static/media/Buggyfriendly.2708fb80.svg"},154:function(e,t,a){e.exports=a.p+"static/media/short-sightedfriendly.8f7ab287.svg"},155:function(e,t,a){e.exports=a.p+"static/media/welllit.6d7e32fc.svg"},156:function(e,t,a){e.exports=a.p+"static/media/Wellies.9e307ce3.svg"},157:function(e,t,a){e.exports=a.p+"static/media/walkingbootfriendly.bf6c17e2.svg"},158:function(e,t,a){e.exports=a.p+"static/media/trainerfriendly.74ef9b43.svg"},159:function(e,t,a){e.exports=a.p+"static/media/Wheelchairfriendly.745ee94b.svg"},160:function(e,t,a){e.exports=a.p+"static/media/sliphazard.f8fd8523.svg"},161:function(e,t,a){e.exports=a.p+"static/media/flatsurface.6ff8077b.svg"},162:function(e,t,a){e.exports=a.p+"static/media/child.bd53dc8a.svg"},163:function(e,t,a){e.exports=a.p+"static/media/road.220c6e12.svg"},164:function(e,t,a){e.exports=a.p+"static/media/learnbike.1f34ceaf.svg"},261:function(e,t,a){e.exports=a(387)},266:function(e,t,a){},270:function(e,t,a){},372:function(e,t,a){},387:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(44),o=a.n(r),l=(a(266),a(27)),c=a(22),s=a(29),m=a(28),u=a(30),d=a(393),f=a(394),g=a(395),h=a(25),p=a(390),v=a(142),y=a(99),b=(a(268),a(391)),E=a(396),w=a(389),k=a(397),x=a(392),j=a(9),O=a.n(j),S=a(143),W=a.n(S),C=a(144),F=a.n(C),R=(a(270),a(145)),T=a.n(R),z=a(146),A=a.n(z),D=(a(274),a(275),O.a.icon({iconUrl:W.a,shadowUrl:F.a}));O.a.Marker.prototype.options.icon=D;var B=O.a.icon.pulse({iconSize:[20,20],color:"#2d89ff"});"geolocation"in navigator||alert("No geolocation!");var M=!1,I=function(e){return function(e){var t=Object(y.a)(e,2),a=t[0];return[t[1],a]}(e.features[0].geometry.coordinates[0])},L=new A.a;navigator.geolocation.watchPosition(function(e){console.log("got update"),L.emit("up",e)},function(e){M||(alert(e.message),M=!0)},{enableHighAccuracy:!0,maximumAge:500,timeout:5e3});var N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={geo:void 0},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){console.log("getting geolocation");var e=this;this.func=function(t){e.setState({geo:[t.coords.latitude,t.coords.longitude]})},L.addListener("up",this.func)}},{key:"componentWillUnmount",value:function(){L.removeListener("up",this.func)}},{key:"render",value:function(){var e=this.props,t=e.route,a=e.children,n=e.centerRoute,r=e.pulse,o=Object(v.a)(e,["route","children","centerRoute","pulse"]);console.log("rendering geo",this.state);var l={center:this.state.geo};if(t&&n){var c=T()(t);l={bounds:[function(e){var t=Object(y.a)(e,2);return[t[0]-1e-4,t[1]-1e-4]}([c[1],c[0]]),function(e){var t=Object(y.a)(e,2);return[t[0]+1e-4,t[1]+1e-4]}([c[3],c[2]])]}}return i.a.createElement("div",{className:"map"},i.a.createElement(b.a,Object.assign({},l,{zoom:16},o),i.a.createElement(E.a,{url:"http://tile.thunderforest.com/cycle/{z}/{x}/{y}.png?apikey=37635e2da12d4bcf90bb1137d42cc392",attribution:'Maps \xa9 <a href="http://www.thunderforest.com/">Thunderforest</a>, Data \xa9 OpenStreetMap contributors.'}),this.state.geo&&i.a.createElement(w.a,{position:this.state.geo},i.a.createElement(k.a,null,"You are here")),i.a.createElement(x.a,{data:t}),r&&t?i.a.createElement(w.a,{icon:B,position:I(t)}):null,a))}}]),t}(n.Component),H=a(33),J={zIndex:"1000",position:"fixed",bottom:"15%",left:"50%",transform:"translateX(-50%)"},U=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={walking:!1},a.startWalk=function(){a.setState({walking:!0})},a.doneWalk=function(){a.setState({walking:!1,done:!0})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props;return i.a.createElement("div",{style:{width:"100%",height:"100%"}},i.a.createElement(N,Object.assign({},e,{pulse:!0}),i.a.createElement("div",{style:J},this.state.walking||this.state.done?null:i.a.createElement(H.a,{onClick:this.startWalk,variant:"extendedFab",color:"primary"},"Start walk"),this.state.walking&&i.a.createElement(H.a,{onClick:this.doneWalk,variant:"extendedFab",color:"primary"},"Finished!"),this.state.done&&i.a.createElement("p",{style:{fontSize:"2rem",background:"rgba(255, 255, 255, 0.7)",padding:"1rem",borderRadius:"10%",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"}},i.a.createElement("span",{role:"img","aria-label":"celebration emoji"},"\ud83c\udf89")," Congratulations!",i.a.createElement("br",null),"You've walked another 3 miles!",i.a.createElement("br",null),i.a.createElement(p.a,{to:De("/"),style:{textDecoration:"none"}},i.a.createElement(H.a,{variant:"extendedFab",color:"secondary"},"Get me another route"))))))}}]),t}(n.Component),Z=(a(362),a(372),n.Component,a(94)),_=a(150),G=a(68),P=a.n(G),Y=a(60),X=a.n(Y),$=a(78),q=a.n($),K=a(79),Q=a.n(K),V=a(151),ee=a.n(V),te=a(152),ae=a.n(te),ne=a(153),ie=a.n(ne),re=a(154),oe=a.n(re),le=a(155),ce=a.n(le),se=a(156),me=a.n(se),ue=a(157),de=a.n(ue),fe=a(158),ge=a.n(fe),he=a(159),pe=a.n(he),ve=a(160),ye=a.n(ve),be=a(161),Ee=a.n(be),we=a(162),ke=a.n(we),xe=a(163),je=a.n(xe),Oe=a(164),Se=a.n(Oe),We=function(e){var t=e.meta,a=[];return[{field:"isBuggyFriendly",name:"Buggy friendly",image:ie.a},{field:"isShortSightedFriendly",name:"Short sighted friendly",image:oe.a},{field:"isWellLit",name:"Well lit",image:ce.a},{field:"isWelliesNeeded",name:"Wellies needed",image:me.a},{field:"isWalkingBootsNeeded",name:"Walking boots needed",image:de.a},{field:"isTrainerFriendly",name:"Trainer friendly",image:ge.a},{field:"isWheelchairFriendly",name:"Wheelchair friendly",image:pe.a},{field:"isSlipHazard",name:"Slip hazard",image:ye.a},{field:"isFlatSurface",name:"Flat surface",image:Ee.a},{field:"isChildSafe",name:"Child safe",image:ke.a},{field:"isRoadSafe",name:"Road safe",image:je.a},{field:"isLearningToRideAbike",name:"Learning to ride a bike",image:Se.a}].forEach(function(e){var n=e.field,i=e.name,r=e.image;t[n]&&a.push({name:i,image:r})}),i.a.createElement(H.b,{cellHeight:24,cols:3},a.map(function(e){return i.a.createElement(H.c,{key:e.name,cols:1},i.a.createElement("img",{src:e.image,alt:e.name,title:e.name}))}))},Ce={width:"100%",display:"flex",justifyContent:"space-between",flexDirection:"row"},Fe=function(e){var t=e.title,a=e.value;return i.a.createElement(X.a,{style:Ce},i.a.createElement("span",null,t,": "),i.a.createElement("span",null,a))},Re=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={list:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({list:Array.from({length:5}).fill({path:_,distance:"1",is_flat:!0,is_muddy:!1,is_ssf:!1,lighting:"open air",shoes:["Hiking boots","Wellington boots"],time:"12",title:"Bacton Woods"})})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,flexDirection:"column"}},i.a.createElement("img",{src:ae.a,style:{width:"50vw"},alt:"G"}),i.a.createElement("sub",null,i.a.createElement("i",null,"Take your mind for a walk")),i.a.createElement(H.a,{variant:"extendedFab",style:{marginTop:"1rem"},color:"primary"},i.a.createElement("img",{width:"24",height:"24",src:ee.a,style:{marginRight:"1rem"}}),"Search")),i.a.createElement(P.a,{style:{width:"100%"}},this.state.list.map(function(t){return i.a.createElement(X.a,null,i.a.createElement(q.a,{onClick:function(){return e.props.onSelect(t)},style:{width:"100%"}},i.a.createElement("div",{style:{height:200,width:"100%"}},i.a.createElement(N,{dragging:!1,touchZoom:!1,doubleClickZoom:!1,scrollWheelZoom:!1,centerRoute:!0,route:t.path})),i.a.createElement(Q.a,{style:{paddingTop:0}},i.a.createElement("div",null,i.a.createElement(P.a,null,i.a.createElement(Fe,{title:"Distance from you",value:t.distance}),i.a.createElement(Fe,{title:"Time",value:"".concat(t.time," minutes")}),i.a.createElement(X.a,null,i.a.createElement(We,{meta:t,key:t.id})))))))})))}}]),t}(n.Component),Te=localStorage.getItem("active-walk"),ze=Object(Z.a)({basename:"/g-"}),Ae=Object(h.createMuiTheme)({palette:{primary:{main:"#ec6711"},secondary:{main:"#b39a19"}}}),De=function(e){return"".concat(e)},Be=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={active:Te&&JSON.parse(Te)},a.selectRoute=function(e){a.setState({active:e}),localStorage.setItem("active-walk",JSON.stringify(e)),ze.push(De("/map"))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{height:"100%",width:"100%"}},i.a.createElement(h.MuiThemeProvider,{theme:Ae},i.a.createElement(d.a,{history:ze},i.a.createElement(f.a,{style:{height:"100%",width:"100%"}},i.a.createElement(g.a,{path:"/",exact:!0},i.a.createElement(Re,{onSelect:this.selectRoute})),i.a.createElement(g.a,{path:"/map"},function(t){return i.a.createElement(U,{centerRoute:!0,route:e.state.active&&e.state.active.path})}),i.a.createElement(g.a,{path:"/search"},i.a.createElement("h1",null,"hi"))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(Be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[261,2,1]]]);
//# sourceMappingURL=main.0b23cda9.chunk.js.map